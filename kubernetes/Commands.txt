Step 1 - Setup development cluster
k3d registry create kw-r --port 5001
k3d cluster create kw --servers 1 --agents 1 --port 9080:80@loadbalancer --registry-use kw-r:5000 --registry-config registries.yaml
kubectl get nodes

Step 2 - Deploy API to kubernetes
2.1 - Build API
docker build -t localhost:5001/api:v0.1 ../../services/api
docker images

2.2 - Push API
docker push localhost:5001/api:v0.1

2.3 - Deploy API
kubectl apply -f deployment.yaml
kubectl get deployment
kubectl get pods
kubectl port-forward [POD_NAME] 3000

2.4 - Deploy kubernetes service
kubectl apply -f service.yaml
kubectl get svc
kubectl port-forward svc/api-service 3000:80

2.5 - Deploy kubernetes ingress
kubectl apply -f ingress.yaml
kubectl get ing

Step 3 - Deploy frontend to kubernetes
docker build -t localhost:5001/frontend:v0.1 ../services/frontend
docker push localhost:5001/frontend:v0.1
kubectl apply -f deployment.yaml
kubectl get deployment
kubectl get pods
kubectl port-forward [POD_NAME] 3000:80
kubectl apply -f service.yaml
kubectl get svc
kubectl apply -f ingress.yaml
kubectl get ing
